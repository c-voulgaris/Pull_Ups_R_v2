---
title: "Assignment 1: Research Questions"
author: "Alicia Seeley, JT Keller, Alec Martinez"
date: "10/20/2021"
output: 
  html_document:
    theme: readable
    toc: true
    toc_depth: 4
    toc_float: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Research Question to Answer with Regression

How, if at all, is housing tenure and structure related to neighborhood social ties?

# Prior Research

We have identified two studies that show a positive relationship between housing tenure and different measures of social engagement. Levitten-Reid and Matthew (2018), using a sample from Canada, find "a positive association between home ownership and forms of bonding social capital". Similarly, Werner and Klingborg (2010), in a study conducted of Stockholm, Sweden, found results indicating that "residents forming tenant-owners associations have more trust in neighbors in the neighborhood."


# Sample Population and Variables

Our sample population includes adults in the US who participated in the IPUMS community civic engagement survey in November 2013.

## Categorial Variables

### 1. Housing Tenure

### 2. Participated in a service or civic organization

### 3. Trust in People in Neighborhood

### 4. Frequency of talking to neighbors

### 5. Frequency of doing favors for neighbors and vice versa

## Continuous Variables

### 1. Household Income

### 2. Age

### 3. Property Taxes


# Data Import

## Load Libraries

```{r, message=FALSE}
library(tidyverse)
library(tidycensus)
library(readxl)
library(knitr)
library(ipumsr)
```


## Read in .dat file from IPUMS

```{r, message=FALSE, warning=FALSE}
ddi <- read_ipums_ddi("cps_00001.xml")
data <- read_ipums_micro(ddi)
```

## Read in .csv file

```{r}
civic <- read_csv("cps_00002.csv.gz")
```


```{r}
kable(head(data))
```

# Descriptive Statistics

## Continuous variables

The continuous variables in our study are 1) number of units in a housing structure, 2) frequency of doing favors for neighbors and vice versa, 3) frequency of talking to neighbors.

### Calculations

#### t tests (including confidence interval)

```{r}
units_t_test <- t.test(data$UNITSSTR)
favors_t_test <- t.test(data$CEFAVORS)
talking_t_test <- t.test(data$CESOCIALIZE)

```



#### quantiles (including median and interquartile range)

```{r}
units_quartiles <- quantile(data$UNITSSTR, na.rm = TRUE)
favors_quartiles <- quantile(data$CEFAVORS, na.rm = TRUE)
talking_quartiles <- quantile(data$CESOCIALIZE, na.rm = TRUE)

```


#### standard deviation

```{r}
units_sd <- sd(data$UNITSSTR, na.rm = TRUE)
favors_sd <- sd(data$CEFAVORS, na.rm = TRUE)
talking_sd <- sd(data$CESOCIALIZE, na.rm = TRUE)

```

#### histograms

```{r}
units_hist <- ggplot(data) +
  geom_histogram(aes(x = UNITSSTR))

favors_hist <- ggplot(data) +
  geom_histogram(aes(x = CEFAVORS))

talking_hist <- ggplot(data) +
  geom_histogram(aes(x = CESOCIALIZE))
```


Uh oh. These data are not normally distributed....

```{r}
units_hist_log <- ggplot(data) +
  geom_histogram(aes(x = UNITSSTR),
                 bins = 30) +
                   scale_x_continuous(trans = "log")

favors_hist_log <- ggplot(data) +
  geom_histogram(aes(x = CEFAVORS) +
                   scale_x_continuous(trans = "log"))

talking_hist_log <- ggplot(data) +
  geom_histogram(aes(x = CESOCIALIZE) +
                   scale_x_continuous(trans = "log"))
```

Still not working....

Wait. this data isn't actually continuous. The numbers refer to categories (like the trust variable)

### Displaying Data

```{r}

```


# References

Werner, Inga Britt, and Kerstin Klingborg. "Studying Social Capital In Housing Neighborhoods-Does Tenure Matter?." (2010).

Leviten-Reid, Catherine, and Rebecca A. Matthew. "Housing tenure and neighbourhood social capital." Housing, Theory and Society 35, no. 3 (2018): 300-328.

Sarah Flood, Miriam King, Renae Rodgers, Steven Ruggles, J. Robert Warren and Michael Westberry. Integrated Public Use Microdata Series, Current Population Survey: Version 9.0 [dataset]. Minneapolis, MN: IPUMS, 2021. https://doi.org/10.18128/D030.V9.0
